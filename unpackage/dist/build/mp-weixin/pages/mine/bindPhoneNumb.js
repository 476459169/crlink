(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/bindPhoneNumb"],{"66ee":function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement;e._self._c},s=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return o}))},7999:function(e,n,t){"use strict";t.r(n);var o=t("bf9b"),i=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,(function(){return o[e]}))}(s);n["default"]=i.a},a37b:function(e,n,t){},b923:function(e,n,t){"use strict";var o=t("a37b"),i=t.n(o);i.a},bf9b:function(e,n,t){"use strict";(function(e){var t;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={data:function(){return{phoneNum:null,VerificationCode:null,VerificationMes:"获取验证码",disabled:!1,loginInfo:Object,scope:0}},onBackPress:function(n){return console.log("onback"),e.removeStorageSync("loginKey"),e.removeStorageSync("userId"),!0},onLoad:function(){t=this,e.getSetting({success:function(e){console.log("授权：",e),e.authSetting["scope.userInfo"]?(console.log("当前已授权"),t.scope=1):(console.log("当前未授权"),t.scope=0)}})},methods:{jumpToRegist:function(){e.navigateTo({url:"./regist",success:function(e){},fail:function(){},complete:function(){}})},getVerificationCode:function(){var n=this;if(this.phoneNum&&11===this.phoneNum.length){var t=0;this.disabled=!0,this.VerificationMes="60s",this.timer=setInterval((function(){t+=1,console.log("ii="+t),n.VerificationMes=(60-t).toString()+"s",30==t&&(n.disabled=!1,n.VerificationMes="获取验证码",t=0,clearInterval(n.timer))}),1e3),this.$api.post("login!ajaxGetPhoneCode.action",{tel:this.phoneNum}).then((function(e){0==e.res.status&&console.log("获取验证码成功")}))}else e.showToast({title:"请输入正确的手机号！"})},bindPhone:function(){var n=e.getStorageSync("loginKey");11==this.phoneNum.length&&this.VerificationCode.length>0?this.$api.post("user!ajaxFillInfo.action",{tel:this.phoneNum,phoneCode:this.VerificationCode,loginKey:n,isApp:0}).then((function(n){if(0==n.res.status){var t=n.inf;console.log(t),e.setStorageSync("userId",t.userId),e.setStorageSync("ifFill","true"),e.showToast({title:"登录中···"}),setTimeout((function(){e.navigateBack({delta:2})}),1500)}else e.showToast({title:n.res.errMsg})})):e.showToast({title:"请检查填写项！"})},login:function(){},bindGetUserInfo:function(){var n=this;e.login({provider:"weixin",success:function(t){console.log(t);var o=t.code;e.getUserInfo({provider:"weixin",success:function(e){console.log(e),console.log("用户昵称为："+e.userInfo.nickName);var t={code:o,encryptedData:e.encryptedData,iv:e.iv,rawData:e.rawData,signature:e.signature};n.$api.post("login!ajaxLoginByJSAPI.action",t).then((function(e){0==e.res.status&&console.log("loginres ="+e)}))}})}})}}};n.default=o}).call(this,t("543d")["default"])},dce5:function(e,n,t){"use strict";t.r(n);var o=t("66ee"),i=t("7999");for(var s in i)"default"!==s&&function(e){t.d(n,e,(function(){return i[e]}))}(s);t("b923");var a,c=t("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=r.exports},e392:function(e,n,t){"use strict";(function(e){t("f645");o(t("66fd"));var n=o(t("dce5"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["e392","common/runtime","common/vendor"]]]);